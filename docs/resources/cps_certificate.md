---
page_title: "edgecast_cps_certificate Resource"
subcategory: "Certificate Provisioning System (CPS)"
description: |-
  edgecast_cps_certificate Resource
---

# edgecast_cps_certificate Resource

Use the `edgecast_cps_certificate` resource to:
* Request a TLS certificate.
* Update a TLS certificate. The settings that can be modified vary by certificate status. 
  * **Pending:** If the TLS certificate has not yet been issued by the Certificate Authority (CA), then you may update basic settings (e.g., name, description, and automatic renewal).
  * **Issued:** Once a TLS certificate has been issued by the CA, then you are also allowed to update the organization or the domains associated with the certificate request. Updating a certificate request's domain or organization will result in a new request being submitted to the CA.
* Delete a TLS certificate. This occurs when the resource corresponding to an issued TLS certificate is removed.
* Cancel a TLS certificate request. This occurs when the resource corresponding to a request for a TLS certificate that has not been issued is removed.

-> A CA is responsible for validating your request and then issuing a TLS certificate. This automated workflow will cause your state file to contain stale information, such as the TLS certificate request status, order status, and deployment status. It may also be missing data, such as Domain Control Validation (DCV) tokens. We recommend that you refresh your state file using the `-refresh-only` mode before retrieving or managing a TLS certificate. 
[Learn more.](https://learn.hashicorp.com/tutorials/terraform/refresh)

Serving traffic over HTTPS requires a TLS certificate and an edge CNAME configuration.

-> You may manage an existing TLS certificate request by importing it as a resource.  
[Learn more.](#import-resource)

## Authentication

This resource requires a [REST API client](../guides/authentication#rest-api-oauth-20-client-credentials) that has been assigned the `sec.cps.certificates` scope.

!> Our Terraform implementation only supports a single scope per REST API client. If you plan on managing both `edgecast_rules_engine_policy` and `edgecast_cps_certificate` resources, then you will need to use a separate working directory for each type of resource.

## TLS Certificate Creation Error

If an error occurs during TLS certificate creation, then our service may reserve the submitted certificate label. This will prevent you from creating a TLS certificate with the same label. If this occur, address the error and then change the `certficate_label` property to a unique value.

## Example Usage

```terraform
resource "edgecast_cps_certificate" "certificate_1" {

	# Note: certificate_label must be unique, including deleted certificates.
	certificate_label = "cdn example com EV certificate"
	description = "EV certificate for cdn.example.com"
	auto_renew = true
	certificate_authority = "DigiCert"
	validation_type = "EV"
	organization {
		city =               "L.A."
		company_address =    "111 fantastic way"
		company_name =    "Example Co."
		contact_email =       "user3@example.com"
		contact_first_name =   "test3"
		contact_last_name =  "user"
		contact_phone =   "111-111-1111"
		contact_title =      "N/A"
		country =      "US"
		organizational_unit = "Dept1"
		state =             "CA"
		zip_code =            "90001"
		additional_contact{
			first_name	= "contact1"
			last_name	= "contactlastname1"
			email	= "first.lastname@example.com"
			phone	= "111-111-1111"				
			title	= "contactManager"
			contact_type	= "EvApprover"
		}
		additional_contact{
			first_name	= "contact2"
			last_name	= "contactlastname2"
			email	= "first.lastname@example.com"
			phone	= "111-111-2222"				
			title	= "contactAccount"
			contact_type	= "TechnicalContact"
		}
	}
	dcv_method = "Email"
	domain {
		is_common_name = true
		name =  "cdn.example.com"
	}
	domain {
		is_common_name = false
		name =  "cdn2.example.com"
	}
	notification_setting {
		notification_type = "CertificateRenewal"
		enabled = true
		emails = ["first.lastname@example.com"]
	}
	notification_setting {
		notification_type = "CertificateExpiring"
		enabled = true
		emails = ["first.lastname@example.com"]
	}
	notification_setting {
		notification_type = "PendingValidations"
		enabled = true
		emails = ["first.lastname@example.com"]
	}
}

resource "edgecast_cps_certificate" "certificate_2" {

	certificate_label = "cdn example com DV certificate"
	description = "DV certificate for cdn.example.com"
	auto_renew = true
	certificate_authority = "DigiCert"
	validation_type = "DV"
	dcv_method = "DnsTxtToken"
	domain {
		is_common_name = true
		name =  "cdn3.example.com"
	}
	domain {
		is_common_name = false
		name =  "cdn4.example.com"
	}
        notification_setting {
                notification_type = "CertificateExpiring"
                enabled = true
                emails = ["joe@example.com"]
        } 
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `certificate_authority` (String) Set to `DigiCert`.
- `certificate_label` (String) Sets the certificate's name. Specify a unique name that solely consists of alphanumeric characters, underscores, and dashes.
- `dcv_method` (String) Determines the method through which your control over the domains associated with this certificate will be validated.  

    -> Use the [edgecast_cps_dcv_types data source](../data-sources/cps_dcv_types) to retrieve a list of Domain Control Validation (DCV) types.
- `domain` (Block List, Min: 1) Contains the domain(s) associated with this certificate request. (see [below for nested schema](#nestedblock--domain))
- `validation_type` (String) Determines the certificate's level of validation.  

    -> Use the [edgecast_cps_cert_validation_levels data source](../data-sources/cps_cert_validation_levels) to retrieve a list of certificate validation levels.

### Optional

- `auto_renew` (Boolean) Determines whether this certificate will automatically renew prior to its expiration date.  
**Default Value:** true
- `description` (String) Sets the certificate's description.
- `notification_setting` (Block Set) Determine the conditions under which notifications will be sent and to whom they will be sent for a specific certificate request. (see [below for nested schema](#nestedblock--notification_setting))
- `organization` (Block List, Max: 1) **Required for OV and EV certificates.** 
Describes the certificate request's organization.  

    ->Do not specify an organization for DV certificates. (see [below for nested schema](#nestedblock--organization))

### Read-Only

- `created` (String) Indicates the timestamp at which this request for a certificate was initially submitted.  
**Syntax:**  *YYYY*-*MM*-*DD*T*hh*:*mm*:*ss*.*ffffff*Z
- `created_by` (Set of Object) Describes the user that submitted this certificate request. (see [below for nested schema](#nestedatt--created_by))
- `deployments` (Set of Object) Returns a null value. (see [below for nested schema](#nestedatt--deployments))
- `expiration_date` (String) Indicates the timestamp at which this certificate will expire.  
**Syntax:**  *YYYY*-*MM*-*DD*T*hh*:*mm*:*ss*.*ffffff*Z  
If the Certificate Authority (CA) is still processing the certificate request, then this argument returns the following timestamp:   
`0001-01-01T00:00:00Z`
- `id` (String) Indicates the system-defined ID assigned to this certificate.
- `last_modified` (String) Indicates the timestamp at which this request for a certificate was last modified.  
**Syntax:**  *YYYY*-*MM*-*DD*T*hh*:*mm*:*ss*.*ffffff*Z
- `modified_by` (Set of Object) Returns a null value. (see [below for nested schema](#nestedatt--modified_by))
- `request_type` (String) Returns `Enterprise`.
- `thumbprint` (String) Returns a null value.
- `validation_status` (Set of Object) Retrieve status information for your certificate request. This includes certificate request status, certificate order status, organization validation status, and domain control validation (DCV) status. (see [below for nested schema](#nestedatt--validation_status))
- `workflow_error_message` (String) Returns a null value.

<a id="nestedblock--domain"></a>
### Nested Schema for `domain`

Required:

- `name` (String) Sets the domain name.  
**Example:** cdn.example.com

Optional:

- `is_common_name` (Boolean) Determines whether this domain corresponds to the certificate's common name.  
**Default Value:** If you do not designate a domain as the common name, then our system will assign it to one of your domains.  

    -> You may only designate a single domain as the common name.

Read-Only:

- `active_date` (String) Returns a null value.
- `created` (String) Indicates the timestamp at which this domain was added to the certificate request.  
**Syntax:**  *YYYY*-*MM*-*DD*T*hh*:*mm*:*ss*.*ffffff*Z
- `dcv_token` (String) This argument's data type varies according to the certificate request's DCV method.  
 * **DNS Text:** Returns a string set to the token value through which you may prove control over your certificate request's domains.  
 * **DNS CNAME:** Returns a block that contains DCV metadata for a specific domain in your certificate request.
- `emails` (List of String) **Email DCV only.** Contains a list of email addresses to which DCV instructions will be sent.
- `id` (Number) Indicates the system-defined ID assigned to this domain.
- `status` (String) Indicates status information for this domain.  

    -> Use the [edgecast_cps_domain_statuses data source](../data-sources/cps_domain_statuses) to retrieve a list of domain statuses.


<a id="nestedblock--notification_setting"></a>
### Nested Schema for `notification_setting`

Required:

- `enabled` (Boolean) Determines whether emails for this type of notification will be sent.
- `notification_type` (String) Identifies the type of notification that will be configured. Valid values are: 

        CertificateRenewal | CertificateExpiring | PendingValidations

Optional:

- `emails` (List of String) **Required when enabled=true.**  
Defines one or more email addresses to which a notification will be sent.  

    ->Set this parameter to an email address associated with a MCC user in your account. Your account manager may also define an email address associated with a partner user. Our service returns a `400 Bad Request` when this parameter is set to any other email address.


<a id="nestedblock--organization"></a>
### Nested Schema for `organization`

Optional:

- `additional_contact` (Block List) **Required for EV certificates.**  
Contains additional contacts that are also responsible for validating certificates for this organization. (see [below for nested schema](#nestedblock--organization--additional_contact))
- `city` (String) **Required for OV and EV certificates.** 
Sets the organization's city.
- `company_address` (String) **Required for OV and EV certificates.** 
Sets the organization's address.
- `company_address2` (String) Sets the organization's secondary address information (e.g., suite number).
- `company_name` (String) **Required for OV and EV certificates.** 
Sets the organization's name.  

    ->If we are unable to identify an organization through the `id` argument, then we will compare the name specified in this argument to all of your organizations. If an exact match is found, then the certificate request will be associated with that organization. Additionally, all other arguments defined within this block will be ignored.  

    ->If we cannot identify an existing organization through either the `id` or `company_name` arguments, then we will create a new organization using the information supplied in this block.
- `contact_email` (String) **Required for OV and EV certificates.** 
Sets the email address for the individual responsible for validating certificates for this organization.
- `contact_first_name` (String) **Required for OV and EV certificates.** 
Sets the first name for the individual responsible for validating certificates for this organization.
- `contact_last_name` (String) **Required for OV and EV certificates.** 
Sets the last name for the individual responsible for validating certificates for this organization.
- `contact_phone` (String) **Required for OV and EV certificates.** 
Sets the phone number for the individual responsible for validating certificates for this organization.
- `contact_title` (String) Sets the title of the individual responsible for validating certificates for this organization.
- `country` (String) **Required for OV and EV certificates.** 
Sets the organization's country by its ISO 3166 country code.  

    -> Use the [edgecast_cps_countrycodes data source](../data-sources/cps_countrycodes) to retrieve country codes.
- `id` (Number) Identifies an organization. Specify an existing organization by passing either of the following values: 
 * **ID:** Set this argument to the system-defined ID for the desired organization.  
 * `0`: Set this argument to `0` if the desired organization has only been registered with Digicert. Additionally, you must set the `company_name` argument to your organization's exact name as defined within Digicert.  

    ->You cannot modify an existing organization. If you assign an existing organization to this certificate, then other arguments defined within this block will be ignored.
- `organizational_unit` (String) Sets the name of the organizational unit responsible for validating certificates for this organization.
- `state` (String) **United States Only: Required for OV and EV certificates.** 
Sets the organization's state by its abbreviation.
- `zip_code` (String) **United States Only: Required for OV and EV certificates.** 
Sets the organization's zip code.

<a id="nestedblock--organization--additional_contact"></a>
### Nested Schema for `organization.additional_contact`

Optional:

- `contact_type` (String) **Required for EV certificates.**  
Set to `EVApprover`.
- `email` (String) **Required for EV certificates.**  
Sets the email address for the current contact.
- `first_name` (String) **Required for EV certificates.**  
Sets the first name for the current contact.
- `id` (Number) Reserved for future use.
- `last_name` (String) **Required for EV certificates.**  
Sets the last name for the current contact.
- `phone` (String) **Required for EV certificates.**  
Sets the phone number for the current contact.
- `title` (String) **Required for EV certificates.**  
Sets the title of the current contact.



<a id="nestedatt--created_by"></a>
### Nested Schema for `created_by`

Read-Only:

- `identity_id` (String)
- `identity_type` (String)
- `portal_type_id` (String)
- `user_id` (Number)


<a id="nestedatt--deployments"></a>
### Nested Schema for `deployments`

Read-Only:

- `delivery_region` (String)
- `hex_url` (String)
- `platform` (String)


<a id="nestedatt--modified_by"></a>
### Nested Schema for `modified_by`

Read-Only:

- `identity_id` (String)
- `identity_type` (String)
- `portal_type_id` (String)
- `user_id` (Number)


<a id="nestedatt--validation_status"></a>
### Nested Schema for `validation_status`

Read-Only:

- `error_message` (String)
- `order_validation` (Set of Object) (see [below for nested schema](#nestedobjatt--validation_status--order_validation))
- `requires_attention` (Boolean)
- `status` (String)
- `step` (Number)

<a id="nestedobjatt--validation_status--order_validation"></a>
### Nested Schema for `validation_status.order_validation`

Read-Only:

- `domain_validation` (List of Object) (see [below for nested schema](#nestedobjatt--validation_status--order_validation--domain_validation))
- `organization_validation` (Set of Object) (see [below for nested schema](#nestedobjatt--validation_status--order_validation--organization_validation))
- `status` (String)

<a id="nestedobjatt--validation_status--order_validation--domain_validation"></a>
### Nested Schema for `validation_status.order_validation.domain_validation`

Read-Only:

- `domain_names` (List of String)
- `status` (String)


<a id="nestedobjatt--validation_status--order_validation--organization_validation"></a>
### Nested Schema for `validation_status.order_validation.organization_validation`

Read-Only:

- `status` (String)
- `validation_type` (String)

## Import Resource
Manage an existing TLS certificate through Terraform by importing it as a resource. Perform the following steps:
1. Insert an empty resource block within your resource configuration.

        resource "edgecast_cps_certificate" "<RESOURCE>" {
          
        }
    **Example:**

        resource "edgecast_cps_certificate" "sample_certificate" {
          
        }
1. Run the following command to attach a TLS certificate request to your resource configuration.

        terraform import edgecast_cps_certificate.<RESOURCE> <ACCOUNT_NUMBER>:<CERTIFICATE_REQUEST_ID>
    * `<RESOURCE>` - Replace this term with the name of the resource defined in step 1.
    * `<ACCOUNT_NUMBER>` - Replace this term with your customer account number. Find your account number in the upper right-hand corner of the MCC.
    * `<CERTIFICATE_REQUEST_ID>` - Replace this term with the system-defined ID assigned to the desired TLS certificate request. You may retrieve a list of TLS certificate requests and their system-defined IDs through our [REST API](https://developer.edgecast.com/cdn/api/index.html#CPS/Get-All-Certificate-Requests.htm).

    **Example:**

        terraform import edgecast_cps_certificate.sample_certificate 0001:123456
-> Upon running the above command, a resource for that TLS certificate request will be recorded in the state file.
