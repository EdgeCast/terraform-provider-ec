---
page_title: "edgecast_rules_engine_policy Resource"
subcategory: "Rules Engine"
description: |-
  edgecast_rules_engine_policy Resource
---

# edgecast_rules_engine_policy Resource

Use the `edgecast_rules_engine_policy` resource to deploy a Rules Engine policy. A policy defines how specific types of requests are processed by the CDN. 

-> You may manage an existing Rules Engine policy by importing it as a resource.  
[Learn more.](#import-resource)

## Format

Define a policy in JSON using the [Add Policy endpoint's request body parameters](https://developer.edgecast.com/cdn/api/index.html#Media_Management/REv4/Add-Policy.htm#Request). 

!> You may only define your policy using the above parameters. Including other parameters (e.g., `created_at` or `updated_at`), such as those returned by the Get Policy endpoint, may generate an error.

## Example Usage

```terraform
resource "edgecast_rules_engine_policy" "my_policy" {
  policy    = file("policy.json")
  deploy_to = "staging" # Valid values are "production" and "staging"
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `deploy_to` (String) Identifies the environment to which the policy will be deployed. Valid values are: 

        production | staging
- `policy` (String) Defines the policy, in JSON format, that will be deployed.

### Optional

- `account_number` (String) Reserved for future use.
- `customeruserid` (String) Reserved for future use.
- `portaltypeid` (String) Reserved for future use.

### Read-Only

- `deploy_request_id` (String) Indicates the system-defined ID for the policy's deploy request.
- `id` (String) The ID of this resource.

## Import Resource
Manage an existing Rules Engine policy through Terraform by importing it as a resource. Perform the following steps:
1. Insert an empty resource block within your resource configuration.

        resource "edgecast_rules_engine_policy" "<RESOURCE>" {
          
        }
    **Example:**

        resource "edgecast_rules_engine_policy" "sample_policy" {
          
        }
1. Run the following command to attach a policy to your resource configuration.

        terraform import edgecast_rules_engine_policy.<RESOURCE> <ACCOUNT_NUMBER>:<POLICY_ID>
    * `<RESOURCE>` - Replace this term with the name of the resource defined in step 1.
    * `<ACCOUNT_NUMBER>` - Replace this term with your customer account number. Find your account number in the upper right-hand corner of the MCC.
    * `<POLICY_ID>` - Replace this term with the system-defined ID assigned to the desired Rules Engine policy. You may retrieve a list of policies and their system-defined IDs through our [REST API](https://developer.edgecast.com/cdn/api/index.html#Media_Management/REv4/Get-All-Policies.htm).

    **Example:**

        terraform import edgecast_rules_engine_policy.sample_policy 0001:123456
->Upon running the above command, a resource for that policy will be recorded in the state file.