---
page_title: "edgecast_waf_botmanager Resource"
subcategory: "Bot Manager"
description: |-
  edgecast_waf_botmanager Resource
---

# edgecast_waf_botmanager Resource

Use the `edgecast_waf_botmanager` resource to:
* Manage a Bot Manager
  * Create a Bot Manager
  * Update a Bot Manager
  * Delete a Bot Manager

-> You may manage an existing bot manager by importing it as a resource.  
[Learn more.](#import-resource)

## Authentication

This resource requires a [REST API token](../guides/authentication#rest-api-token).

## Example Usage

```terraform
resource "edgecast_waf_botmanager" "botmanager_1" {

	customer_id = "ABCDE"
	name = "My Bot Manager updated"
	bots_prod_id = "123bot1" # Must be an existing production Bot Rule
	actions {
		alert{
			name = "known_bot action"
		}
		custom_response{
			name = "ACTION"
			response_body_base64 = base64encode(file("response_body.html"))
			status = 403
			response_headers = {
				"header1" = "x-ec-rules"
				"header2" = "rejected"
			}
		}
		block_request{
			name = "known_bot action"
		}
		redirect_302{
			name = "known_bot action"
			url = "http://imouttahere.com"
		}
		browser_challenge{
			name = "known_bot action"
			is_custom_challenge = true
			response_body_base64 = base64encode(file("response_body.html"))
			status = 401
			valid_for_sec = 35
		}
	}
	exception_cookie = ["yummy-cookie", "yucky-cookie"]
	exception_ja3 = ["656b9a2f4de6ed4909e157482860ab3d"]
	exception_url = ["http://asdfasdfasd.com/"]
	exception_user_agent = ["abc/monkey/banana?abc=howmanybananas", "xyz/monkey/banana?abc=howmanybananas",]
	inspect_known_bots = true
	known_bot{
		action_type = "ALERT"
		bot_token = "google"
	}
	known_bot{
		action_type = "ALERT"
		bot_token = "facebook"
	}
	known_bot{
		action_type = "BLOCK_REQUEST"
		bot_token = "twitter"
	}
	known_bot{
		action_type = "CUSTOM_RESPONSE"
		bot_token = "yandex"
	}
	known_bot{
		action_type = "REDIRECT_302"
		bot_token = "semrush"
	}
	spoof_bot_action_type = "ALERT"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `bots_prod_id` (String) Indicates the system-defined ID assigned to an existing Bot Rule.
- `customer_id` (String) Identifies the customer id.
- `name` (String) The unique name by which this Bot Manager configuration will be identified. /nThis name should be sufficiently descriptive to identify it when setting up a Security Application Manager configuration.

### Optional

- `actions` (Block List, Max: 1) Contains the type of actions that can be applied to bot traffic, and can include browser challenge, custom response, or redirect that can be applied to known bots, spoofed bots, and bots detected through rules. 

    --> Unlike other actions, alert and block actions do not require configuration before they can be applied to bot traffic. (see [below for nested schema](#nestedblock--actions))
- `exception_cookie` (List of String) Bypass the above bot detection measures by creating an exception for one or more cookie(s).
- `exception_ja3` (List of String) Bypass the above bot detection measures by creating an exception for one or more JA3 fingerprint(s).
- `exception_url` (List of String) Bypass the above bot detection measures by creating an exception for one or more URL(s).
- `exception_user_agent` (List of String) Bypass the above bot detection measures by creating an exception for one or more user agent(s).
- `inspect_known_bots` (Boolean) Valid Values: True | False.
- `known_bot` (Block List) List of known bots. (see [below for nested schema](#nestedblock--known_bot))
- `spoof_bot_action_type` (String) Valid Values : ALERT, BLOCK_REQUEST, CUSTOM_RESPONSE, BROWSER_CHALLENGE, REDIRECT_302

### Read-Only

- `id` (String) Indicates the system-defined ID assigned to this Bot Manager.
- `last_modified_by` (String) Identifies the user account which most recently modified the Bot Manager.
- `last_modified_date` (String) Specifies the date and time when the Bot Manager was most recently modiified.

<a id="nestedblock--actions"></a>
### Nested Schema for `actions`

Optional:

- `alert` (Block List, Max: 1) Configuration for generating an alert. /nUse this mode to track detected threats through the Bots dashboard without impacting production traffic. (see [below for nested schema](#nestedblock--actions--alert))
- `block_request` (Block List, Max: 1) Configuration for dropping the request and providing the client with a 403 Forbidden response. (see [below for nested schema](#nestedblock--actions--block_request))
- `browser_challenge` (Block List, Max: 1) Configuration for Sending a browser challenge to the client. The client must solve this challenge within a few seconds. /n**Key Information:** /n * Solving a challenge requires a JavaScript-enabled client. Users that have disabled JavaScript on their browsing session will be unable to access content protected by browser challenges. /n * We strongly recommend that you avoid applying browser challenges to machine-to-machine interactions. For example, applying browser challenges to API traffic will disrupt your API workflow. /n * The HTTP Status Code option determines the HTTP status code for the response provided to clients that are being served the browser challenge. /n   - Setting this option to certain status codes (e.g., 204) may prevent clients that successfully solve a browser challenge from properly displaying your site. /n * You may define a custom payload for the browser challenge by enabling the Custom Browser Challenge Page option and then setting the Browser Challenge Page Template option to the desired payload. (see [below for nested schema](#nestedblock--actions--browser_challenge))
- `custom_response` (Block List, Max: 1) Configuration for returning a custom response. (see [below for nested schema](#nestedblock--actions--custom_response))
- `redirect_302` (Block List, Max: 1) Configuration for Redirecting requests to the specified URL. The HTTP status code for this response will be a 302 Found. (see [below for nested schema](#nestedblock--actions--redirect_302))

<a id="nestedblock--actions--alert"></a>
### Nested Schema for `actions.alert`

Optional:

- `name` (String) The name by which this alert configuration will be identified.

Read-Only:

- `id` (String) Indicates the system-defined ID assigned to this alert.


<a id="nestedblock--actions--block_request"></a>
### Nested Schema for `actions.block_request`

Optional:

- `name` (String) The name by which this block request configuration will be identified.

Read-Only:

- `id` (String) Indicates the system-defined ID assigned to this block request.


<a id="nestedblock--actions--browser_challenge"></a>
### Nested Schema for `actions.browser_challenge`

Optional:

- `is_custom_challenge` (Boolean) Valid Values: True | False
- `name` (String) The name by which this browser challenge will be identified.
- `response_body_base64` (String) Describes the results of the above browser challenge determines what happens next. /n * Solved: If the client is able to solve the challenge, then our CDN serves the requested content. Additionally, a cookie will be added to the user's session. This cookie instructs our CDN to serve content to the user without requiring a browser challenge. Once the cookie expires, new requests for content protected by Bot Manager will once again require the client to solve a challenge. /n * Unsolved: If the client is unable to solve the challenge, then our CDN responds with a new browser challenge.
- `status` (Number) Determines the HTTP status code for the response provided to clients that are being served the browser challenge. /n **Note:** Setting this option to certain status codes (e.g., 204) may prevent clients that successfully solve a browser challenge from properly displaying your site. /nValue must be of format 'uint32'
- `valid_for_sec` (Number) Defines the duration for the cookie. Value must be of format 'uint32'

Read-Only:

- `id` (String) Indicates the system-defined ID assigned to this browser challenge.


<a id="nestedblock--actions--custom_response"></a>
### Nested Schema for `actions.custom_response`

Optional:

- `name` (String) The name by which this custom response configuration will be identified.
- `response_body_base64` (String) Defines the payload that will be delivered to the client. /n * This option supports the use of event variables to customize the response. /n/n**Sample payload for a HTML file:** /n```<!DOCTYPE html><html> /n<head><title>Page Not Found</title></head> /n<body>Page not found.</body> /n</html>```
- `response_headers` (Map of String) Defines one or more response headers that will be sent to the client. Define each custom response header on a separate line. /nSyntax: {Name}:{Value} /nExample: MyCustomHeader: True /n * This option supports the use of event variables to customize the response. /n * All characters, including spaces, defined before or after the colon will be treated as a part of the specified header name or value, respectively.
- `status` (Number) Defines the HTTP status code that will be sent to the client. /n --> Value must be of format 'uint32'

Read-Only:

- `id` (String) Indicates the system-defined ID assigned to this custom response.


<a id="nestedblock--actions--redirect_302"></a>
### Nested Schema for `actions.redirect_302`

Optional:

- `name` (String) The name by which this redirect configuration will be identified.
- `url` (String) The full URL to which requests will be redirected. /nExample: http://cdn.mydomain.com/marketing/busy.html

Read-Only:

- `id` (String) Indicates the system-defined ID assigned to this redirect.



<a id="nestedblock--known_bot"></a>
### Nested Schema for `known_bot`

Optional:

- `action_type` (String) Valid Values : ALERT, BLOCK_REQUEST, CUSTOM_RESPONSE, BROWSER_CHALLENGE, REDIRECT_302
- `bot_token` (String) Must be one of available bot tokens

## Import Resource
Manage an existing bot manager through Terraform by importing it as a resource. Perform the following steps:
1. Insert an empty resource block within your resource configuration.

        resource "edgecast_waf_botmanager" "<RESOURCE>" {
          
        }
    **Example:**

        resource "edgecast_waf_botmanager" "sample_group" {
          
        }
1. Run the following command to attach a origin group to your resource configuration.

        terraform import edgecast_waf_botmanager.<RESOURCE> <CUSTOMER_ID>:<ID>
    * `<RESOURCE>` - Replace this term with the name of the resource defined in step 1.
    * `<CUSTOMER_ID>` - Replace this term with your customer account number. Find your account number in the upper right-hand corner of the MCC.
    * `<ID>` - Replace this term with the system-defined ID assigned to the bot Manager. 
    **Example:**

        terraform import edgecast_waf_botmanager.sample_botmanager ABCD:123456
-> Upon running the above command, a resource for that bot manager will be recorded in the state file.
