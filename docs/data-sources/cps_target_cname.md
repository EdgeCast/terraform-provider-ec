---
page_title: "edgecast_cps_target_cname Data Source"
subcategory: "Certificate Provisioning System (CPS)"
description: |-
  edgecast_cps_target_cname Data Source
---

# edgecast_cps_target_cname Data Source

Use the `edgecast_cps_target_cname` data source to retrieve the CDN domain through which requests for this certificate will be routed.

## Authentication

This resource requires a [REST API client](../guides/authentication#rest-api-oauth-20-client-credentials) that has been assigned the `sec.cps.certificates` scope.

## Potential issue with CPS Data Sources
There is a potential issue where setting `wait_until_available=true` for `edgecast_cps_target_cname` causes the provider to wait for the data source on terraform plan. This wait time is valid, but it may not be desired behavior at plan time.

To work around this, you will need to define a variable that can be set to `false` at plan time and then `true` at apply time. Then, you can use it like so:

```bash
terraform apply -var 'wait_for_ec_cps_data_sources=true'
```

An exampe of this workaround can be found below.

## Example Usage

```terraform
resource "edgecast_cps_certificate" "my_cert" {
  certificate_label     = "my cert 1"
  description           = "DV certificate for somedomain.com"
  auto_renew            = true
  certificate_authority = "DigiCert"
  validation_type       = "DV"
  dcv_method            = "DnsTxtToken"
  domain {
    is_common_name = true
    name           = "somedomain.com"
  }
}

data "edgecast_cps_target_cname" "mycert_cname" {
  certificate_id       = edgecast_cps_certificate.my_cert.id
  wait_timeout = "20m"

  # There is a known issue where wait_until_available=true causes the provider
  # to wait for this data source on terraform plan.
  #
  # Use the var wait_for_ec_cps_data_sources (defined in main.tf) to force the
  # provider to not wait for data sources on terraform plan. Note that its
  # default value is false
  #
  # When you are ready to apply, set the variable:
  #
  # terraform apply -var 'wait_for_ec_cps_data_sources=true'
  wait_until_available = var.wait_for_ec_cps_data_sources
}

output "target_cname" {
  value = data.edgecast_cps_target_cname.mycert_cname.value
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `certificate_id` (String) Indicates the system-defined ID assigned to a certificate.

### Optional

- `wait_timeout` (String) Indicates the maximum time Terraform will wait (e.g. `60m` for 60 minutes, `10s` for ten seconds, or `2h` for two hours). If `wait_until_available` is not set, this value is ignored.
- `wait_until_available` (Boolean) Indicates whether Terraform should wait until the token is available.

### Read-Only

- `id` (String) The ID of this resource.
- `value` (String) Indicates the CDN domain through which requests for this certificate will be routed.
